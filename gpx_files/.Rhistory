setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
# vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
plot.table(results)
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
# vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
plot.table(results)
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2")
rownames(dresults)=c("sail_1","fish","sail_2")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2","tot")
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
# vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
plot.table(results)
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
# vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
plot.table(results)
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
library("quantmod")
library("gt")
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
# vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
mresults=as.matrix(results)
mresults
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
plot.table(results)
mresults=as.matrix(results)
mresults
gtable(results)
# dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
r1
r2
dresults %>% gt(rowname_col = "row")
dresults
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv3-update/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
mresults=as.matrix(results)
mresults
dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
dresults
r1
r2
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv2-update/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
mresults=as.matrix(results)
mresults
dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
dresults
r1
r2
setwd("~/../Bureau/PRE/Projet code/")
table=read.table("filterv2-updatev2/globalresults.txt",header=FALSE,sep=";")
table=table[,-10]
library("quantmod")
library("gt")
results=c()
for(i in 1:9){
res
}
vv1=sum(table[,1])
vv2=sum(table[,2])
vv3=sum(table[,3])
vv4=sum(table[,4])
vv5=sum(table[,5])
vv6=sum(table[,6])
vv7=sum(table[,7])
vv8=sum(table[,8])
vv9=sum(table[,9])
results=c(vv1,vv2,vv3)
results=rbind(results,c(vv4,vv5,vv6))
results=rbind(results,c(vv7,vv8,vv9))
sail_1=results[1,1]/(sum(results[1,]))
fish=results[2,2]/(sum(results[2,]))
sail_2=results[3,3]/(sum(results[3,]))
msail_1=results[1,1]/(sum(results[,1]))
mfish=results[2,2]/(sum(results[,2]))
msail_2=results[3,3]/(sum(results[,3]))
r1=(c(sail_1,fish,sail_2,1))
r2=c(msail_1,mfish,msail_2)
mresults=as.matrix(results)
mresults
dresults=as.data.frame(results)
dresults %>% gt(rowname_col = "row")
colnames(dresults)=c("msail_1","mfish","sail_2","tot")
rownames(dresults)=c("sail_1","fish","sail_2")
dresults=rbind(dresults,r2)
dresults=cbind(dresults,r1)
dresults
r1
#setwd("~/Documents/")
setwd(dir = "~/../Bureau/PRE/Projet code/Map-matching")
#setwd("~/Documents/")
setwd(dir = "~/../Bureau/PRE/Projet code/Map-matching/gpx_files")
tablecomplete=read.csv("./GPX_points_lidl.csv",header=TRUE,sep=',')
#setwd("~/Documents/")
setwd(dir = "~/../Bureau/PRE/Projet code/Map-matching/gpx_files")
library(dplyr)
tablecomplete=read.csv("./GPX_points_lidl.csv",header=TRUE,sep=',')
tablecomplete =tablecomplete[,c(1,2,7)]
tablecomplete[,3]<-as.POSIXct(tablecomplete[,3],format="%Y-%m-%d %H:%M:%S")
##########################################################
GC_to_meters=function(ax,ay,xx,yy){
latMid = (ay+yy )/2
m_per_deg_lat = 111132.954 - 559.822 * cos( 2 * latMid ) + 1.175 * cos( 4* latMid);
m_per_deg_lon = (3.14159265359/180 ) * 6367449 * cos ( latMid );
deltaLat = (ay - yy);
deltaLon = (ax - xx);
return(cbind(deltaLon * m_per_deg_lon , deltaLat * m_per_deg_lat))
}
transformLatToM=function(x,y){
result=c()
for(i in 1:length(x)){
result=rbind(result,GC_to_meters(x[i],y[i],4.36,50.84))
}
return(result)
}
speed=function(x,y,t){
speedy=c()
for(i in 1:length(x)-1){
z=sqrt((x[i]-x[i+1])**2 +(y[i]-y[i+1])**2)/(as.numeric(difftime(t[i+1],t[i])))
speedy=c(speedy,z)
}
return(speedy)
}
resultss=transformLatToM(tablecomplete[,1],tablecomplete[,2])
tablecomplete[,1]=resultss[,1]
tablecomplete[,2]=resultss[,2]
vitesse=speed(tablecomplete[,1],tablecomplete[,2],tablecomplete[,3])
for(i in 1:450){
if(vitesse[i]>20){
vitesse[i]=0
}
}
hist(vitesse,breaks = 200)
plot(tablecomplete[,1],tablecomplete[,2])
library(mixtools)
walk<-normalmixEM(vitesse[1:13], lambda = .5, mu = c(5,8), sigma = c(1,1))
summary(walk)
tablecomplete=read.csv("./GPX_points_lidl.csv",header=TRUE,sep=',')
tablecomplete =tablecomplete[,c(1,2,7)]
tablecomplete[,3]<-as.POSIXct(tablecomplete[,3],format="%Y-%m-%d %H:%M:%S")
##########################################################
GC_to_meters=function(ax,ay,xx,yy){
latMid = (ay+yy )/2
m_per_deg_lat = 111132.954 - 559.822 * cos( 2 * latMid ) + 1.175 * cos( 4* latMid);
m_per_deg_lon = (3.14159265359/180 ) * 6367449 * cos ( latMid );
deltaLat = (ay - yy);
deltaLon = (ax - xx);
return(cbind(deltaLon * m_per_deg_lon , deltaLat * m_per_deg_lat))
}
transformLatToM=function(x,y){
result=c()
for(i in 1:length(x)){
result=rbind(result,GC_to_meters(x[i],y[i],4.36,50.84))
}
return(result)
}
speed=function(x,y,t){
speedy=c()
for(i in 1:length(x)-1){
z=sqrt((x[i]-x[i+1])**2 +(y[i]-y[i+1])**2)/(as.numeric(difftime(t[i+1],t[i])))
speedy=c(speedy,z)
}
return(speedy)
}
resultss=transformLatToM(tablecomplete[,1],tablecomplete[,2])
tablecomplete[,1]=resultss[,1]
tablecomplete[,2]=resultss[,2]
vitesse=speed(tablecomplete[,1],tablecomplete[,2],tablecomplete[,3])
for(i in 1:450){
if(vitesse[i]>20){
vitesse[i]=0
}
}
hist(vitesse,breaks = 200)
plot(tablecomplete[,1],tablecomplete[,2])
library(mixtools)
walk<-normalmixEM(vitesse[1:13], lambda = .5, mu = c(5,8), sigma = c(1,1))
summary(walk)
x=seq(0,20,0.05)
ymix=0
for(i in 1:2){
ymix=ymix+wait1$lambda[i]*dnorm(x,wait1$mu[i],wait1$sigma[i])
}
hist(vitesse[1:13],breaks = 200,freq = FALSE)
hist(vitesse,breaks = 200,freq = FALSE)
points(x,ymix, col="lightslateblue",type="l", lwd=2)
x=seq(0,20,0.05)
ymix=0
for(i in 1:2){
ymix=ymix+wait1$lambda[i]*dnorm(x,wait1$mu[i],wait1$sigma[i])
}
x=seq(0,20,0.05)
ymix=0
for(i in 1:2){
ymix=ymix+walk$lambda[i]*dnorm(x,wait1$mu[i],wait1$sigma[i])
}
x=seq(0,20,0.05)
ymix=0
for(i in 1:2){
ymix=ymix+walk$lambda[i]*dnorm(x,walk$mu[i],walk$sigma[i])
}
hist(vitesse,breaks = 200,freq = FALSE)
points(x,ymix, col="lightslateblue",type="l", lwd=2)
walk<-normalmixEM(vitesse[1:13], lambda = .5, mu = c(2,2.1), sigma = c(1,1))
summary(walk)
x=seq(0,20,0.05)
ymix=0
for(i in 1:2){
ymix=ymix+walk$lambda[i]*dnorm(x,walk$mu[i],walk$sigma[i])
}
hist(vitesse,breaks = 200,freq = FALSE)
points(x,ymix, col="lightslateblue",type="l", lwd=2)
points(x,dnorm(x,2,0.1))
points(x,dnorm(x,2,0.1),type="l")
hist(vitesse,breaks = 200,freq = FALSE)
points(x,ymix, col="lightslateblue",type="l", lwd=2)
points(x,dnorm(x,2,0.3),type="l")
